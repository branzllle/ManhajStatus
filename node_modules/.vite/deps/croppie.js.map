{
  "version": 3,
  "sources": ["../../croppie/croppie.js", "dep:croppie"],
  "sourcesContent": ["/*************************\r\n * Croppie\r\n * Copyright 2019\r\n * Foliotek\r\n * Version: 2.6.5\r\n *************************/\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        define(factory);\r\n    } else if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {\r\n        // CommonJS\r\n        module.exports = factory();\r\n    } else {\r\n        // Browser globals\r\n        root.Croppie = factory();\r\n    }\r\n}(typeof self !== 'undefined' ? self : this, function () {\r\n\r\n    /* Polyfills */\r\n    if (typeof Promise !== 'function') {\r\n        /*! promise-polyfill 3.1.0 */\r\n        !function(a){function b(a,b){return function(){a.apply(b,arguments)}}function c(a){if(\"object\"!==typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!==typeof a)throw new TypeError(\"not a function\");this._state=null,this._value=null,this._deferreds=[],i(a,b(e,this),b(f,this))}function d(a){var b=this;return null===this._state?void this._deferreds.push(a):void k(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)return void(b._state?a.resolve:a.reject)(b._value);var d;try{d=c(b._value)}catch(e){return void a.reject(e)}a.resolve(d)})}function e(a){try{if(a===this)throw new TypeError(\"A promise cannot be resolved with itself.\");if(a&&(\"object\"===typeof a||\"function\"===typeof a)){var c=a.then;if(\"function\"===typeof c)return void i(b(c,a),b(e,this),b(f,this))}this._state=!0,this._value=a,g.call(this)}catch(d){f.call(this,d)}}function f(a){this._state=!1,this._value=a,g.call(this)}function g(){for(var a=0,b=this._deferreds.length;b>a;a++)d.call(this,this._deferreds[a]);this._deferreds=null}function h(a,b,c,d){this.onFulfilled=\"function\"===typeof a?a:null,this.onRejected=\"function\"===typeof b?b:null,this.resolve=c,this.reject=d}function i(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}var j=setTimeout,k=\"function\"===typeof setImmediate&&setImmediate||function(a){j(a,1)},l=Array.isArray||function(a){return\"[object Array]\"===Object.prototype.toString.call(a)};c.prototype[\"catch\"]=function(a){return this.then(null,a)},c.prototype.then=function(a,b){var e=this;return new c(function(c,f){d.call(e,new h(a,b,c,f))})},c.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&l(arguments[0])?arguments[0]:arguments);return new c(function(b,c){function d(f,g){try{if(g&&(\"object\"===typeof g||\"function\"===typeof g)){var h=g.then;if(\"function\"===typeof h)return void h.call(g,function(a){d(f,a)},c)}a[f]=g,0===--e&&b(a)}catch(i){c(i)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},c.resolve=function(a){return a&&\"object\"===typeof a&&a.constructor===c?a:new c(function(b){b(a)})},c.reject=function(a){return new c(function(b,c){c(a)})},c.race=function(a){return new c(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})},c._setImmediateFn=function(a){k=a},\"undefined\"!==typeof module&&module.exports?module.exports=c:a.Promise||(a.Promise=c)}(this);\r\n    }\r\n\r\n    if (typeof window !== 'undefined' && typeof window.CustomEvent !== \"function\") {\r\n        (function(){\r\n            function CustomEvent ( event, params ) {\r\n                params = params || { bubbles: false, cancelable: false, detail: undefined };\r\n                var evt = document.createEvent( 'CustomEvent' );\r\n                evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\r\n                return evt;\r\n            }\r\n            CustomEvent.prototype = window.Event.prototype;\r\n            window.CustomEvent = CustomEvent;\r\n        }());\r\n    }\r\n\r\n    if (typeof HTMLCanvasElement !== 'undefined' && !HTMLCanvasElement.prototype.toBlob) {\r\n        Object.defineProperty(HTMLCanvasElement.prototype, 'toBlob', {\r\n            value: function (callback, type, quality) {\r\n                var binStr = atob( this.toDataURL(type, quality).split(',')[1] ),\r\n                len = binStr.length,\r\n                arr = new Uint8Array(len);\r\n\r\n                for (var i=0; i<len; i++ ) {\r\n                    arr[i] = binStr.charCodeAt(i);\r\n                }\r\n\r\n                callback( new Blob( [arr], {type: type || 'image/png'} ) );\r\n            }\r\n        });\r\n    }\r\n    /* End Polyfills */\r\n\r\n    var cssPrefixes = ['Webkit', 'Moz', 'ms'],\r\n        emptyStyles = typeof document !== 'undefined' ? document.createElement('div').style : {},\r\n        EXIF_NORM = [1,8,3,6],\r\n        EXIF_FLIP = [2,7,4,5],\r\n        CSS_TRANS_ORG,\r\n        CSS_TRANSFORM,\r\n        CSS_USERSELECT;\r\n\r\n    function vendorPrefix(prop) {\r\n        if (prop in emptyStyles) {\r\n            return prop;\r\n        }\r\n\r\n        var capProp = prop[0].toUpperCase() + prop.slice(1),\r\n            i = cssPrefixes.length;\r\n\r\n        while (i--) {\r\n            prop = cssPrefixes[i] + capProp;\r\n            if (prop in emptyStyles) {\r\n                return prop;\r\n            }\r\n        }\r\n    }\r\n\r\n    CSS_TRANSFORM = vendorPrefix('transform');\r\n    CSS_TRANS_ORG = vendorPrefix('transformOrigin');\r\n    CSS_USERSELECT = vendorPrefix('userSelect');\r\n\r\n    function getExifOffset(ornt, rotate) {\r\n        var arr = EXIF_NORM.indexOf(ornt) > -1 ? EXIF_NORM : EXIF_FLIP,\r\n            index = arr.indexOf(ornt),\r\n            offset = (rotate / 90) % arr.length;// 180 = 2%4 = 2 shift exif by 2 indexes\r\n\r\n        return arr[(arr.length + index + (offset % arr.length)) % arr.length];\r\n    }\r\n\r\n    // Credits to : Andrew Dupont - http://andrewdupont.net/2009/08/28/deep-extending-objects-in-javascript/\r\n    function deepExtend(destination, source) {\r\n        destination = destination || {};\r\n        for (var property in source) {\r\n            if (source[property] && source[property].constructor && source[property].constructor === Object) {\r\n                destination[property] = destination[property] || {};\r\n                deepExtend(destination[property], source[property]);\r\n            } else {\r\n                destination[property] = source[property];\r\n            }\r\n        }\r\n        return destination;\r\n    }\r\n\r\n    function clone(object) {\r\n        return deepExtend({}, object);\r\n    }\r\n\r\n    function debounce(func, wait, immediate) {\r\n        var timeout;\r\n        return function () {\r\n            var context = this, args = arguments;\r\n            var later = function () {\r\n                timeout = null;\r\n                if (!immediate) func.apply(context, args);\r\n            };\r\n            var callNow = immediate && !timeout;\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(later, wait);\r\n            if (callNow) func.apply(context, args);\r\n        };\r\n    }\r\n\r\n    function dispatchChange(element) {\r\n        if (\"createEvent\" in document) {\r\n            var evt = document.createEvent(\"HTMLEvents\");\r\n            evt.initEvent(\"change\", false, true);\r\n            element.dispatchEvent(evt);\r\n        }\r\n        else {\r\n            element.fireEvent(\"onchange\");\r\n        }\r\n    }\r\n\r\n    //http://jsperf.com/vanilla-css\r\n    function css(el, styles, val) {\r\n        if (typeof (styles) === 'string') {\r\n            var tmp = styles;\r\n            styles = {};\r\n            styles[tmp] = val;\r\n        }\r\n\r\n        for (var prop in styles) {\r\n            el.style[prop] = styles[prop];\r\n        }\r\n    }\r\n\r\n    function addClass(el, c) {\r\n        if (el.classList) {\r\n            el.classList.add(c);\r\n        }\r\n        else {\r\n            el.className += ' ' + c;\r\n        }\r\n    }\r\n\r\n    function removeClass(el, c) {\r\n        if (el.classList) {\r\n            el.classList.remove(c);\r\n        }\r\n        else {\r\n            el.className = el.className.replace(c, '');\r\n        }\r\n    }\r\n\r\n    function setAttributes(el, attrs) {\r\n        for (var key in attrs) {\r\n            el.setAttribute(key, attrs[key]);\r\n        }\r\n    }\r\n\r\n    function num(v) {\r\n        return parseInt(v, 10);\r\n    }\r\n\r\n    /* Utilities */\r\n    function loadImage(src, doExif) {\r\n        if (!src) { throw 'Source image missing'; }\r\n        \r\n        var img = new Image();\r\n        img.style.opacity = '0';\r\n        return new Promise(function (resolve, reject) {\r\n            function _resolve() {\r\n                img.style.opacity = '1';\r\n                setTimeout(function () {\r\n                    resolve(img);\r\n                }, 1);\r\n            }\r\n\r\n            img.removeAttribute('crossOrigin');\r\n            if (src.match(/^https?:\\/\\/|^\\/\\//)) {\r\n                img.setAttribute('crossOrigin', 'anonymous');\r\n            }\r\n\r\n            img.onload = function () {\r\n                if (doExif) {\r\n                    EXIF.getData(img, function () {\r\n                        _resolve();\r\n                    });\r\n                }\r\n                else {\r\n                    _resolve();\r\n                }\r\n            };\r\n            img.onerror = function (ev) {\r\n                img.style.opacity = 1;\r\n                setTimeout(function () {\r\n                    reject(ev);\r\n                }, 1);\r\n            };\r\n            img.src = src;\r\n        });\r\n    }\r\n\r\n    function naturalImageDimensions(img, ornt) {\r\n        var w = img.naturalWidth;\r\n        var h = img.naturalHeight;\r\n        var orient = ornt || getExifOrientation(img);\r\n        if (orient && orient >= 5) {\r\n            var x= w;\r\n            w = h;\r\n            h = x;\r\n        }\r\n        return { width: w, height: h };\r\n    }\r\n\r\n    /* CSS Transform Prototype */\r\n    var TRANSLATE_OPTS = {\r\n        'translate3d': {\r\n            suffix: ', 0px'\r\n        },\r\n        'translate': {\r\n            suffix: ''\r\n        }\r\n    };\r\n    var Transform = function (x, y, scale) {\r\n        this.x = parseFloat(x);\r\n        this.y = parseFloat(y);\r\n        this.scale = parseFloat(scale);\r\n    };\r\n\r\n    Transform.parse = function (v) {\r\n        if (v.style) {\r\n            return Transform.parse(v.style[CSS_TRANSFORM]);\r\n        }\r\n        else if (v.indexOf('matrix') > -1 || v.indexOf('none') > -1) {\r\n            return Transform.fromMatrix(v);\r\n        }\r\n        else {\r\n            return Transform.fromString(v);\r\n        }\r\n    };\r\n\r\n    Transform.fromMatrix = function (v) {\r\n        var vals = v.substring(7).split(',');\r\n        if (!vals.length || v === 'none') {\r\n            vals = [1, 0, 0, 1, 0, 0];\r\n        }\r\n\r\n        return new Transform(num(vals[4]), num(vals[5]), parseFloat(vals[0]));\r\n    };\r\n\r\n    Transform.fromString = function (v) {\r\n        var values = v.split(') '),\r\n            translate = values[0].substring(Croppie.globals.translate.length + 1).split(','),\r\n            scale = values.length > 1 ? values[1].substring(6) : 1,\r\n            x = translate.length > 1 ? translate[0] : 0,\r\n            y = translate.length > 1 ? translate[1] : 0;\r\n\r\n        return new Transform(x, y, scale);\r\n    };\r\n\r\n    Transform.prototype.toString = function () {\r\n        var suffix = TRANSLATE_OPTS[Croppie.globals.translate].suffix || '';\r\n        return Croppie.globals.translate + '(' + this.x + 'px, ' + this.y + 'px' + suffix + ') scale(' + this.scale + ')';\r\n    };\r\n\r\n    var TransformOrigin = function (el) {\r\n        if (!el || !el.style[CSS_TRANS_ORG]) {\r\n            this.x = 0;\r\n            this.y = 0;\r\n            return;\r\n        }\r\n        var css = el.style[CSS_TRANS_ORG].split(' ');\r\n        this.x = parseFloat(css[0]);\r\n        this.y = parseFloat(css[1]);\r\n    };\r\n\r\n    TransformOrigin.prototype.toString = function () {\r\n        return this.x + 'px ' + this.y + 'px';\r\n    };\r\n\r\n    function getExifOrientation (img) {\r\n        return img.exifdata && img.exifdata.Orientation ? num(img.exifdata.Orientation) : 1;\r\n    }\r\n\r\n    function drawCanvas(canvas, img, orientation) {\r\n        var width = img.width,\r\n            height = img.height,\r\n            ctx = canvas.getContext('2d');\r\n\r\n        canvas.width = img.width;\r\n        canvas.height = img.height;\r\n\r\n        ctx.save();\r\n        switch (orientation) {\r\n          case 2:\r\n             ctx.translate(width, 0);\r\n             ctx.scale(-1, 1);\r\n             break;\r\n\r\n          case 3:\r\n              ctx.translate(width, height);\r\n              ctx.rotate(180*Math.PI/180);\r\n              break;\r\n\r\n          case 4:\r\n              ctx.translate(0, height);\r\n              ctx.scale(1, -1);\r\n              break;\r\n\r\n          case 5:\r\n              canvas.width = height;\r\n              canvas.height = width;\r\n              ctx.rotate(90*Math.PI/180);\r\n              ctx.scale(1, -1);\r\n              break;\r\n\r\n          case 6:\r\n              canvas.width = height;\r\n              canvas.height = width;\r\n              ctx.rotate(90*Math.PI/180);\r\n              ctx.translate(0, -height);\r\n              break;\r\n\r\n          case 7:\r\n              canvas.width = height;\r\n              canvas.height = width;\r\n              ctx.rotate(-90*Math.PI/180);\r\n              ctx.translate(-width, height);\r\n              ctx.scale(1, -1);\r\n              break;\r\n\r\n          case 8:\r\n              canvas.width = height;\r\n              canvas.height = width;\r\n              ctx.translate(0, width);\r\n              ctx.rotate(-90*Math.PI/180);\r\n              break;\r\n        }\r\n        ctx.drawImage(img, 0,0, width, height);\r\n        ctx.restore();\r\n    }\r\n\r\n    /* Private Methods */\r\n    function _create() {\r\n        var self = this,\r\n            contClass = 'croppie-container',\r\n            customViewportClass = self.options.viewport.type ? 'cr-vp-' + self.options.viewport.type : null,\r\n            boundary, img, viewport, overlay, bw, bh;\r\n\r\n        self.options.useCanvas = self.options.enableOrientation || _hasExif.call(self);\r\n        // Properties on class\r\n        self.data = {};\r\n        self.elements = {};\r\n\r\n        boundary = self.elements.boundary = document.createElement('div');\r\n        viewport = self.elements.viewport = document.createElement('div');\r\n        img = self.elements.img = document.createElement('img');\r\n        overlay = self.elements.overlay = document.createElement('div');\r\n\r\n        if (self.options.useCanvas) {\r\n            self.elements.canvas = document.createElement('canvas');\r\n            self.elements.preview = self.elements.canvas;\r\n        }\r\n        else {\r\n            self.elements.preview = img;\r\n        }\r\n\r\n        addClass(boundary, 'cr-boundary');\r\n        boundary.setAttribute('aria-dropeffect', 'none');\r\n        bw = self.options.boundary.width;\r\n        bh = self.options.boundary.height;\r\n        css(boundary, {\r\n            width: (bw + (isNaN(bw) ? '' : 'px')),\r\n            height: (bh + (isNaN(bh) ? '' : 'px'))\r\n        });\r\n\r\n        addClass(viewport, 'cr-viewport');\r\n        if (customViewportClass) {\r\n            addClass(viewport, customViewportClass);\r\n        }\r\n        css(viewport, {\r\n            width: self.options.viewport.width + 'px',\r\n            height: self.options.viewport.height + 'px'\r\n        });\r\n        viewport.setAttribute('tabindex', 0);\r\n\r\n        addClass(self.elements.preview, 'cr-image');\r\n        setAttributes(self.elements.preview, { 'alt': 'preview', 'aria-grabbed': 'false' });\r\n        addClass(overlay, 'cr-overlay');\r\n\r\n        self.element.appendChild(boundary);\r\n        boundary.appendChild(self.elements.preview);\r\n        boundary.appendChild(viewport);\r\n        boundary.appendChild(overlay);\r\n\r\n        addClass(self.element, contClass);\r\n        if (self.options.customClass) {\r\n            addClass(self.element, self.options.customClass);\r\n        }\r\n\r\n        _initDraggable.call(this);\r\n\r\n        if (self.options.enableZoom) {\r\n            _initializeZoom.call(self);\r\n        }\r\n\r\n        // if (self.options.enableOrientation) {\r\n        //     _initRotationControls.call(self);\r\n        // }\r\n\r\n        if (self.options.enableResize) {\r\n            _initializeResize.call(self);\r\n        }\r\n    }\r\n\r\n    // function _initRotationControls () {\r\n    //     var self = this,\r\n    //         wrap, btnLeft, btnRight, iLeft, iRight;\r\n\r\n    //     wrap = document.createElement('div');\r\n    //     self.elements.orientationBtnLeft = btnLeft = document.createElement('button');\r\n    //     self.elements.orientationBtnRight = btnRight = document.createElement('button');\r\n\r\n    //     wrap.appendChild(btnLeft);\r\n    //     wrap.appendChild(btnRight);\r\n\r\n    //     iLeft = document.createElement('i');\r\n    //     iRight = document.createElement('i');\r\n    //     btnLeft.appendChild(iLeft);\r\n    //     btnRight.appendChild(iRight);\r\n\r\n    //     addClass(wrap, 'cr-rotate-controls');\r\n    //     addClass(btnLeft, 'cr-rotate-l');\r\n    //     addClass(btnRight, 'cr-rotate-r');\r\n\r\n    //     self.elements.boundary.appendChild(wrap);\r\n\r\n    //     btnLeft.addEventListener('click', function () {\r\n    //         self.rotate(-90);\r\n    //     });\r\n    //     btnRight.addEventListener('click', function () {\r\n    //         self.rotate(90);\r\n    //     });\r\n    // }\r\n\r\n    function _hasExif() {\r\n        return this.options.enableExif && window.EXIF;\r\n    }\r\n\r\n    function _initializeResize () {\r\n        var self = this;\r\n        var wrap = document.createElement('div');\r\n        var isDragging = false;\r\n        var direction;\r\n        var originalX;\r\n        var originalY;\r\n        var minSize = 50;\r\n        var maxWidth;\r\n        var maxHeight;\r\n        var vr;\r\n        var hr;\r\n\r\n        addClass(wrap, 'cr-resizer');\r\n        css(wrap, {\r\n            width: this.options.viewport.width + 'px',\r\n            height: this.options.viewport.height + 'px'\r\n        });\r\n\r\n        if (this.options.resizeControls.height) {\r\n            vr = document.createElement('div');\r\n            addClass(vr, 'cr-resizer-vertical');\r\n            wrap.appendChild(vr);\r\n        }\r\n\r\n        if (this.options.resizeControls.width) {\r\n            hr = document.createElement('div');\r\n            addClass(hr, 'cr-resizer-horisontal');\r\n            wrap.appendChild(hr);\r\n        }\r\n\r\n        function mouseDown(ev) {\r\n            if (ev.button !== undefined && ev.button !== 0) return;\r\n\r\n            ev.preventDefault();\r\n            if (isDragging) {\r\n                return;\r\n            }\r\n\r\n            var overlayRect = self.elements.overlay.getBoundingClientRect();\r\n\r\n            isDragging = true;\r\n            originalX = ev.pageX;\r\n            originalY = ev.pageY;\r\n            direction = ev.currentTarget.className.indexOf('vertical') !== -1 ? 'v' : 'h';\r\n            maxWidth = overlayRect.width;\r\n            maxHeight = overlayRect.height;\r\n\r\n            if (ev.touches) {\r\n                var touches = ev.touches[0];\r\n                originalX = touches.pageX;\r\n                originalY = touches.pageY;\r\n            }\r\n\r\n            window.addEventListener('mousemove', mouseMove);\r\n            window.addEventListener('touchmove', mouseMove);\r\n            window.addEventListener('mouseup', mouseUp);\r\n            window.addEventListener('touchend', mouseUp);\r\n            document.body.style[CSS_USERSELECT] = 'none';\r\n        }\r\n\r\n        function mouseMove(ev) {\r\n            var pageX = ev.pageX;\r\n            var pageY = ev.pageY;\r\n\r\n            ev.preventDefault();\r\n\r\n            if (ev.touches) {\r\n                var touches = ev.touches[0];\r\n                pageX = touches.pageX;\r\n                pageY = touches.pageY;\r\n            }\r\n\r\n            var deltaX = pageX - originalX;\r\n            var deltaY = pageY - originalY;\r\n            var newHeight = self.options.viewport.height + deltaY;\r\n            var newWidth = self.options.viewport.width + deltaX;\r\n\r\n            if (direction === 'v' && newHeight >= minSize && newHeight <= maxHeight) {\r\n                css(wrap, {\r\n                    height: newHeight + 'px'\r\n                });\r\n\r\n                self.options.boundary.height += deltaY;\r\n                css(self.elements.boundary, {\r\n                    height: self.options.boundary.height + 'px'\r\n                });\r\n\r\n                self.options.viewport.height += deltaY;\r\n                css(self.elements.viewport, {\r\n                    height: self.options.viewport.height + 'px'\r\n                });\r\n            }\r\n            else if (direction === 'h' && newWidth >= minSize && newWidth <= maxWidth) {\r\n                css(wrap, {\r\n                    width: newWidth + 'px'\r\n                });\r\n\r\n                self.options.boundary.width += deltaX;\r\n                css(self.elements.boundary, {\r\n                    width: self.options.boundary.width + 'px'\r\n                });\r\n\r\n                self.options.viewport.width += deltaX;\r\n                css(self.elements.viewport, {\r\n                    width: self.options.viewport.width + 'px'\r\n                });\r\n            }\r\n\r\n            _updateOverlay.call(self);\r\n            _updateZoomLimits.call(self);\r\n            _updateCenterPoint.call(self);\r\n            _triggerUpdate.call(self);\r\n            originalY = pageY;\r\n            originalX = pageX;\r\n        }\r\n\r\n        function mouseUp() {\r\n            isDragging = false;\r\n            window.removeEventListener('mousemove', mouseMove);\r\n            window.removeEventListener('touchmove', mouseMove);\r\n            window.removeEventListener('mouseup', mouseUp);\r\n            window.removeEventListener('touchend', mouseUp);\r\n            document.body.style[CSS_USERSELECT] = '';\r\n        }\r\n\r\n        if (vr) {\r\n            vr.addEventListener('mousedown', mouseDown);\r\n            vr.addEventListener('touchstart', mouseDown);\r\n        }\r\n\r\n        if (hr) {\r\n            hr.addEventListener('mousedown', mouseDown);\r\n            hr.addEventListener('touchstart', mouseDown);\r\n        }\r\n\r\n        this.elements.boundary.appendChild(wrap);\r\n    }\r\n\r\n    function _setZoomerVal(v) {\r\n        if (this.options.enableZoom) {\r\n            var z = this.elements.zoomer,\r\n                val = fix(v, 4);\r\n\r\n            z.value = Math.max(parseFloat(z.min), Math.min(parseFloat(z.max), val)).toString();\r\n        }\r\n    }\r\n\r\n    function _initializeZoom() {\r\n        var self = this,\r\n            wrap = self.elements.zoomerWrap = document.createElement('div'),\r\n            zoomer = self.elements.zoomer = document.createElement('input');\r\n\r\n        addClass(wrap, 'cr-slider-wrap');\r\n        addClass(zoomer, 'cr-slider');\r\n        zoomer.type = 'range';\r\n        zoomer.step = '0.0001';\r\n        zoomer.value = '1';\r\n        zoomer.style.display = self.options.showZoomer ? '' : 'none';\r\n        zoomer.setAttribute('aria-label', 'zoom');\r\n\r\n        self.element.appendChild(wrap);\r\n        wrap.appendChild(zoomer);\r\n\r\n        self._currentZoom = 1;\r\n\r\n        function change() {\r\n            _onZoom.call(self, {\r\n                value: parseFloat(zoomer.value),\r\n                origin: new TransformOrigin(self.elements.preview),\r\n                viewportRect: self.elements.viewport.getBoundingClientRect(),\r\n                transform: Transform.parse(self.elements.preview)\r\n            });\r\n        }\r\n\r\n        function scroll(ev) {\r\n            var delta, targetZoom;\r\n\r\n            if(self.options.mouseWheelZoom === 'ctrl' && ev.ctrlKey !== true){\r\n              return 0;\r\n            } else if (ev.wheelDelta) {\r\n                delta = ev.wheelDelta / 1200; //wheelDelta min: -120 max: 120 // max x 10 x 2\r\n            } else if (ev.deltaY) {\r\n                delta = ev.deltaY / 1060; //deltaY min: -53 max: 53 // max x 10 x 2\r\n            } else if (ev.detail) {\r\n                delta = ev.detail / -60; //delta min: -3 max: 3 // max x 10 x 2\r\n            } else {\r\n                delta = 0;\r\n            }\r\n\r\n            targetZoom = self._currentZoom + (delta * self._currentZoom);\r\n\r\n            ev.preventDefault();\r\n            _setZoomerVal.call(self, targetZoom);\r\n            change.call(self);\r\n        }\r\n\r\n        self.elements.zoomer.addEventListener('input', change);// this is being fired twice on keypress\r\n        self.elements.zoomer.addEventListener('change', change);\r\n\r\n        if (self.options.mouseWheelZoom) {\r\n            self.elements.boundary.addEventListener('mousewheel', scroll);\r\n            self.elements.boundary.addEventListener('DOMMouseScroll', scroll);\r\n        }\r\n    }\r\n\r\n    function _onZoom(ui) {\r\n        var self = this,\r\n            transform = ui ? ui.transform : Transform.parse(self.elements.preview),\r\n            vpRect = ui ? ui.viewportRect : self.elements.viewport.getBoundingClientRect(),\r\n            origin = ui ? ui.origin : new TransformOrigin(self.elements.preview);\r\n\r\n        function applyCss() {\r\n            var transCss = {};\r\n            transCss[CSS_TRANSFORM] = transform.toString();\r\n            transCss[CSS_TRANS_ORG] = origin.toString();\r\n            css(self.elements.preview, transCss);\r\n        }\r\n\r\n        self._currentZoom = ui ? ui.value : self._currentZoom;\r\n        transform.scale = self._currentZoom;\r\n        self.elements.zoomer.setAttribute('aria-valuenow', self._currentZoom);\r\n        applyCss();\r\n\r\n        if (self.options.enforceBoundary) {\r\n            var boundaries = _getVirtualBoundaries.call(self, vpRect),\r\n                transBoundaries = boundaries.translate,\r\n                oBoundaries = boundaries.origin;\r\n\r\n            if (transform.x >= transBoundaries.maxX) {\r\n                origin.x = oBoundaries.minX;\r\n                transform.x = transBoundaries.maxX;\r\n            }\r\n\r\n            if (transform.x <= transBoundaries.minX) {\r\n                origin.x = oBoundaries.maxX;\r\n                transform.x = transBoundaries.minX;\r\n            }\r\n\r\n            if (transform.y >= transBoundaries.maxY) {\r\n                origin.y = oBoundaries.minY;\r\n                transform.y = transBoundaries.maxY;\r\n            }\r\n\r\n            if (transform.y <= transBoundaries.minY) {\r\n                origin.y = oBoundaries.maxY;\r\n                transform.y = transBoundaries.minY;\r\n            }\r\n        }\r\n        applyCss();\r\n        _debouncedOverlay.call(self);\r\n        _triggerUpdate.call(self);\r\n    }\r\n\r\n    function _getVirtualBoundaries(viewport) {\r\n        var self = this,\r\n            scale = self._currentZoom,\r\n            vpWidth = viewport.width,\r\n            vpHeight = viewport.height,\r\n            centerFromBoundaryX = self.elements.boundary.clientWidth / 2,\r\n            centerFromBoundaryY = self.elements.boundary.clientHeight / 2,\r\n            imgRect = self.elements.preview.getBoundingClientRect(),\r\n            curImgWidth = imgRect.width,\r\n            curImgHeight = imgRect.height,\r\n            halfWidth = vpWidth / 2,\r\n            halfHeight = vpHeight / 2;\r\n\r\n        var maxX = ((halfWidth / scale) - centerFromBoundaryX) * -1;\r\n        var minX = maxX - ((curImgWidth * (1 / scale)) - (vpWidth * (1 / scale)));\r\n\r\n        var maxY = ((halfHeight / scale) - centerFromBoundaryY) * -1;\r\n        var minY = maxY - ((curImgHeight * (1 / scale)) - (vpHeight * (1 / scale)));\r\n\r\n        var originMinX = (1 / scale) * halfWidth;\r\n        var originMaxX = (curImgWidth * (1 / scale)) - originMinX;\r\n\r\n        var originMinY = (1 / scale) * halfHeight;\r\n        var originMaxY = (curImgHeight * (1 / scale)) - originMinY;\r\n\r\n        return {\r\n            translate: {\r\n                maxX: maxX,\r\n                minX: minX,\r\n                maxY: maxY,\r\n                minY: minY\r\n            },\r\n            origin: {\r\n                maxX: originMaxX,\r\n                minX: originMinX,\r\n                maxY: originMaxY,\r\n                minY: originMinY\r\n            }\r\n        };\r\n    }\r\n\r\n    function _updateCenterPoint(rotate) {\r\n        var self = this,\r\n            scale = self._currentZoom,\r\n            data = self.elements.preview.getBoundingClientRect(),\r\n            vpData = self.elements.viewport.getBoundingClientRect(),\r\n            transform = Transform.parse(self.elements.preview.style[CSS_TRANSFORM]),\r\n            pc = new TransformOrigin(self.elements.preview),\r\n            top = (vpData.top - data.top) + (vpData.height / 2),\r\n            left = (vpData.left - data.left) + (vpData.width / 2),\r\n            center = {},\r\n            adj = {};\r\n\r\n        if (rotate) {\r\n            var cx = pc.x;\r\n            var cy = pc.y;\r\n            var tx = transform.x;\r\n            var ty = transform.y;\r\n\r\n            center.y = cx;\r\n            center.x = cy;\r\n            transform.y = tx;\r\n            transform.x = ty;\r\n        }\r\n        else {\r\n            center.y = top / scale;\r\n            center.x = left / scale;\r\n\r\n            adj.y = (center.y - pc.y) * (1 - scale);\r\n            adj.x = (center.x - pc.x) * (1 - scale);\r\n\r\n            transform.x -= adj.x;\r\n            transform.y -= adj.y;\r\n        }\r\n\r\n        var newCss = {};\r\n        newCss[CSS_TRANS_ORG] = center.x + 'px ' + center.y + 'px';\r\n        newCss[CSS_TRANSFORM] = transform.toString();\r\n        css(self.elements.preview, newCss);\r\n    }\r\n\r\n    function _initDraggable() {\r\n        var self = this,\r\n            isDragging = false,\r\n            originalX,\r\n            originalY,\r\n            originalDistance,\r\n            vpRect,\r\n            transform;\r\n\r\n        function assignTransformCoordinates(deltaX, deltaY) {\r\n            var imgRect = self.elements.preview.getBoundingClientRect(),\r\n                top = transform.y + deltaY,\r\n                left = transform.x + deltaX;\r\n\r\n            if (self.options.enforceBoundary) {\r\n                if (vpRect.top > imgRect.top + deltaY && vpRect.bottom < imgRect.bottom + deltaY) {\r\n                    transform.y = top;\r\n                }\r\n\r\n                if (vpRect.left > imgRect.left + deltaX && vpRect.right < imgRect.right + deltaX) {\r\n                    transform.x = left;\r\n                }\r\n            }\r\n            else {\r\n                transform.y = top;\r\n                transform.x = left;\r\n            }\r\n        }\r\n\r\n        function toggleGrabState(isDragging) {\r\n          self.elements.preview.setAttribute('aria-grabbed', isDragging);\r\n          self.elements.boundary.setAttribute('aria-dropeffect', isDragging? 'move': 'none');\r\n        }\r\n\r\n        function keyDown(ev) {\r\n            var LEFT_ARROW  = 37,\r\n                UP_ARROW    = 38,\r\n                RIGHT_ARROW = 39,\r\n                DOWN_ARROW  = 40;\r\n\r\n            if (ev.shiftKey && (ev.keyCode === UP_ARROW || ev.keyCode === DOWN_ARROW)) {\r\n                var zoom;\r\n                if (ev.keyCode === UP_ARROW) {\r\n                    zoom = parseFloat(self.elements.zoomer.value) + parseFloat(self.elements.zoomer.step)\r\n                }\r\n                else {\r\n                    zoom = parseFloat(self.elements.zoomer.value) - parseFloat(self.elements.zoomer.step)\r\n                }\r\n                self.setZoom(zoom);\r\n            }\r\n            else if (self.options.enableKeyMovement && (ev.keyCode >= 37 && ev.keyCode <= 40)) {\r\n                ev.preventDefault();\r\n                var movement = parseKeyDown(ev.keyCode);\r\n\r\n                transform = Transform.parse(self.elements.preview);\r\n                document.body.style[CSS_USERSELECT] = 'none';\r\n                vpRect = self.elements.viewport.getBoundingClientRect();\r\n                keyMove(movement);\r\n            }\r\n\r\n            function parseKeyDown(key) {\r\n                switch (key) {\r\n                    case LEFT_ARROW:\r\n                        return [1, 0];\r\n                    case UP_ARROW:\r\n                        return [0, 1];\r\n                    case RIGHT_ARROW:\r\n                        return [-1, 0];\r\n                    case DOWN_ARROW:\r\n                        return [0, -1];\r\n                }\r\n            }\r\n        }\r\n\r\n        function keyMove(movement) {\r\n            var deltaX = movement[0],\r\n                deltaY = movement[1],\r\n                newCss = {};\r\n\r\n            assignTransformCoordinates(deltaX, deltaY);\r\n\r\n            newCss[CSS_TRANSFORM] = transform.toString();\r\n            css(self.elements.preview, newCss);\r\n            _updateOverlay.call(self);\r\n            document.body.style[CSS_USERSELECT] = '';\r\n            _updateCenterPoint.call(self);\r\n            _triggerUpdate.call(self);\r\n            originalDistance = 0;\r\n        }\r\n\r\n        function mouseDown(ev) {\r\n            if (ev.button !== undefined && ev.button !== 0) return;\r\n\r\n            ev.preventDefault();\r\n            if (isDragging) return;\r\n            isDragging = true;\r\n            originalX = ev.pageX;\r\n            originalY = ev.pageY;\r\n\r\n            if (ev.touches) {\r\n                var touches = ev.touches[0];\r\n                originalX = touches.pageX;\r\n                originalY = touches.pageY;\r\n            }\r\n            toggleGrabState(isDragging);\r\n            transform = Transform.parse(self.elements.preview);\r\n            window.addEventListener('mousemove', mouseMove);\r\n            window.addEventListener('touchmove', mouseMove);\r\n            window.addEventListener('mouseup', mouseUp);\r\n            window.addEventListener('touchend', mouseUp);\r\n            document.body.style[CSS_USERSELECT] = 'none';\r\n            vpRect = self.elements.viewport.getBoundingClientRect();\r\n        }\r\n\r\n        function mouseMove(ev) {\r\n            ev.preventDefault();\r\n            var pageX = ev.pageX,\r\n                pageY = ev.pageY;\r\n\r\n            if (ev.touches) {\r\n                var touches = ev.touches[0];\r\n                pageX = touches.pageX;\r\n                pageY = touches.pageY;\r\n            }\r\n\r\n            var deltaX = pageX - originalX,\r\n                deltaY = pageY - originalY,\r\n                newCss = {};\r\n\r\n            if (ev.type === 'touchmove') {\r\n                if (ev.touches.length > 1) {\r\n                    var touch1 = ev.touches[0];\r\n                    var touch2 = ev.touches[1];\r\n                    var dist = Math.sqrt((touch1.pageX - touch2.pageX) * (touch1.pageX - touch2.pageX) + (touch1.pageY - touch2.pageY) * (touch1.pageY - touch2.pageY));\r\n\r\n                    if (!originalDistance) {\r\n                        originalDistance = dist / self._currentZoom;\r\n                    }\r\n\r\n                    var scale = dist / originalDistance;\r\n\r\n                    _setZoomerVal.call(self, scale);\r\n                    dispatchChange(self.elements.zoomer);\r\n                    return;\r\n                }\r\n            }\r\n\r\n            assignTransformCoordinates(deltaX, deltaY);\r\n\r\n            newCss[CSS_TRANSFORM] = transform.toString();\r\n            css(self.elements.preview, newCss);\r\n            _updateOverlay.call(self);\r\n            originalY = pageY;\r\n            originalX = pageX;\r\n        }\r\n\r\n        function mouseUp() {\r\n            isDragging = false;\r\n            toggleGrabState(isDragging);\r\n            window.removeEventListener('mousemove', mouseMove);\r\n            window.removeEventListener('touchmove', mouseMove);\r\n            window.removeEventListener('mouseup', mouseUp);\r\n            window.removeEventListener('touchend', mouseUp);\r\n            document.body.style[CSS_USERSELECT] = '';\r\n            _updateCenterPoint.call(self);\r\n            _triggerUpdate.call(self);\r\n            originalDistance = 0;\r\n        }\r\n\r\n        self.elements.overlay.addEventListener('mousedown', mouseDown);\r\n        self.elements.viewport.addEventListener('keydown', keyDown);\r\n        self.elements.overlay.addEventListener('touchstart', mouseDown);\r\n    }\r\n\r\n    function _updateOverlay() {\r\n        if (!this.elements) return; // since this is debounced, it can be fired after destroy\r\n        var self = this,\r\n            boundRect = self.elements.boundary.getBoundingClientRect(),\r\n            imgData = self.elements.preview.getBoundingClientRect();\r\n\r\n        css(self.elements.overlay, {\r\n            width: imgData.width + 'px',\r\n            height: imgData.height + 'px',\r\n            top: (imgData.top - boundRect.top) + 'px',\r\n            left: (imgData.left - boundRect.left) + 'px'\r\n        });\r\n    }\r\n    var _debouncedOverlay = debounce(_updateOverlay, 500);\r\n\r\n    function _triggerUpdate() {\r\n        var self = this,\r\n            data = self.get();\r\n\r\n        if (!_isVisible.call(self)) {\r\n            return;\r\n        }\r\n\r\n        self.options.update.call(self, data);\r\n        if (self.$ && typeof Prototype === 'undefined') {\r\n            self.$(self.element).trigger('update.croppie', data);\r\n        }\r\n        else {\r\n            var ev;\r\n            if (window.CustomEvent) {\r\n                ev = new CustomEvent('update', { detail: data });\r\n            } else {\r\n                ev = document.createEvent('CustomEvent');\r\n                ev.initCustomEvent('update', true, true, data);\r\n            }\r\n\r\n            self.element.dispatchEvent(ev);\r\n        }\r\n    }\r\n\r\n    function _isVisible() {\r\n        return this.elements.preview.offsetHeight > 0 && this.elements.preview.offsetWidth > 0;\r\n    }\r\n\r\n    function _updatePropertiesFromImage() {\r\n        var self = this,\r\n            initialZoom = 1,\r\n            cssReset = {},\r\n            img = self.elements.preview,\r\n            imgData,\r\n            transformReset = new Transform(0, 0, initialZoom),\r\n            originReset = new TransformOrigin(),\r\n            isVisible = _isVisible.call(self);\r\n\r\n        if (!isVisible || self.data.bound) {// if the croppie isn't visible or it doesn't need binding\r\n            return;\r\n        }\r\n\r\n        self.data.bound = true;\r\n        cssReset[CSS_TRANSFORM] = transformReset.toString();\r\n        cssReset[CSS_TRANS_ORG] = originReset.toString();\r\n        cssReset['opacity'] = 1;\r\n        css(img, cssReset);\r\n\r\n        imgData = self.elements.preview.getBoundingClientRect();\r\n\r\n        self._originalImageWidth = imgData.width;\r\n        self._originalImageHeight = imgData.height;\r\n        self.data.orientation = _hasExif.call(self) ? getExifOrientation(self.elements.img) : self.data.orientation;\r\n\r\n        if (self.options.enableZoom) {\r\n            _updateZoomLimits.call(self, true);\r\n        }\r\n        else {\r\n            self._currentZoom = initialZoom;\r\n        }\r\n\r\n        transformReset.scale = self._currentZoom;\r\n        cssReset[CSS_TRANSFORM] = transformReset.toString();\r\n        css(img, cssReset);\r\n\r\n        if (self.data.points.length) {\r\n            _bindPoints.call(self, self.data.points);\r\n        }\r\n        else {\r\n            _centerImage.call(self);\r\n        }\r\n\r\n        _updateCenterPoint.call(self);\r\n        _updateOverlay.call(self);\r\n    }\r\n\r\n    function _updateZoomLimits (initial) {\r\n        var self = this,\r\n            minZoom = Math.max(self.options.minZoom, 0) || 0,\r\n            maxZoom = self.options.maxZoom || 1.5,\r\n            initialZoom,\r\n            defaultInitialZoom,\r\n            zoomer = self.elements.zoomer,\r\n            scale = parseFloat(zoomer.value),\r\n            boundaryData = self.elements.boundary.getBoundingClientRect(),\r\n            imgData = naturalImageDimensions(self.elements.img, self.data.orientation),\r\n            vpData = self.elements.viewport.getBoundingClientRect(),\r\n            minW,\r\n            minH;\r\n        if (self.options.enforceBoundary) {\r\n            minW = vpData.width / imgData.width;\r\n            minH = vpData.height / imgData.height;\r\n            minZoom = Math.max(minW, minH);\r\n        }\r\n\r\n        if (minZoom >= maxZoom) {\r\n            maxZoom = minZoom + 1;\r\n        }\r\n\r\n        zoomer.min = fix(minZoom, 4);\r\n        zoomer.max = fix(maxZoom, 4);\r\n\r\n        if (!initial && (scale < zoomer.min || scale > zoomer.max)) {\r\n            _setZoomerVal.call(self, scale < zoomer.min ? zoomer.min : zoomer.max);\r\n        }\r\n        else if (initial) {\r\n            defaultInitialZoom = Math.max((boundaryData.width / imgData.width), (boundaryData.height / imgData.height));\r\n            initialZoom = self.data.boundZoom !== null ? self.data.boundZoom : defaultInitialZoom;\r\n            _setZoomerVal.call(self, initialZoom);\r\n        }\r\n\r\n        dispatchChange(zoomer);\r\n    }\r\n\r\n    function _bindPoints(points) {\r\n        if (points.length !== 4) {\r\n            throw \"Croppie - Invalid number of points supplied: \" + points;\r\n        }\r\n        var self = this,\r\n            pointsWidth = points[2] - points[0],\r\n            // pointsHeight = points[3] - points[1],\r\n            vpData = self.elements.viewport.getBoundingClientRect(),\r\n            boundRect = self.elements.boundary.getBoundingClientRect(),\r\n            vpOffset = {\r\n                left: vpData.left - boundRect.left,\r\n                top: vpData.top - boundRect.top\r\n            },\r\n            scale = vpData.width / pointsWidth,\r\n            originTop = points[1],\r\n            originLeft = points[0],\r\n            transformTop = (-1 * points[1]) + vpOffset.top,\r\n            transformLeft = (-1 * points[0]) + vpOffset.left,\r\n            newCss = {};\r\n\r\n        newCss[CSS_TRANS_ORG] = originLeft + 'px ' + originTop + 'px';\r\n        newCss[CSS_TRANSFORM] = new Transform(transformLeft, transformTop, scale).toString();\r\n        css(self.elements.preview, newCss);\r\n\r\n        _setZoomerVal.call(self, scale);\r\n        self._currentZoom = scale;\r\n    }\r\n\r\n    function _centerImage() {\r\n        var self = this,\r\n            imgDim = self.elements.preview.getBoundingClientRect(),\r\n            vpDim = self.elements.viewport.getBoundingClientRect(),\r\n            boundDim = self.elements.boundary.getBoundingClientRect(),\r\n            vpLeft = vpDim.left - boundDim.left,\r\n            vpTop = vpDim.top - boundDim.top,\r\n            w = vpLeft - ((imgDim.width - vpDim.width) / 2),\r\n            h = vpTop - ((imgDim.height - vpDim.height) / 2),\r\n            transform = new Transform(w, h, self._currentZoom);\r\n\r\n        css(self.elements.preview, CSS_TRANSFORM, transform.toString());\r\n    }\r\n\r\n    function _transferImageToCanvas(customOrientation) {\r\n        var self = this,\r\n            canvas = self.elements.canvas,\r\n            img = self.elements.img,\r\n            ctx = canvas.getContext('2d');\r\n\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        canvas.width = img.width;\r\n        canvas.height = img.height;\r\n\r\n        var orientation = self.options.enableOrientation && customOrientation || getExifOrientation(img);\r\n        drawCanvas(canvas, img, orientation);\r\n    }\r\n\r\n    function _getCanvas(data) {\r\n        var self = this,\r\n            points = data.points,\r\n            left = num(points[0]),\r\n            top = num(points[1]),\r\n            right = num(points[2]),\r\n            bottom = num(points[3]),\r\n            width = right-left,\r\n            height = bottom-top,\r\n            circle = data.circle,\r\n            canvas = document.createElement('canvas'),\r\n            ctx = canvas.getContext('2d'),\r\n            startX = 0,\r\n            startY = 0,\r\n            canvasWidth = data.outputWidth || width,\r\n            canvasHeight = data.outputHeight || height;\r\n\r\n        canvas.width = canvasWidth;\r\n        canvas.height = canvasHeight;\r\n\r\n        if (data.backgroundColor) {\r\n            ctx.fillStyle = data.backgroundColor;\r\n            ctx.fillRect(0, 0, canvasWidth, canvasHeight);\r\n        }\r\n\r\n        // By default assume we're going to draw the entire\r\n        // source image onto the destination canvas.\r\n        var sx = left,\r\n            sy = top,\r\n            sWidth = width,\r\n            sHeight = height,\r\n            dx = 0,\r\n            dy = 0,\r\n            dWidth = canvasWidth,\r\n            dHeight = canvasHeight;\r\n\r\n        //\r\n        // Do not go outside of the original image's bounds along the x-axis.\r\n        // Handle translations when projecting onto the destination canvas.\r\n        //\r\n\r\n        // The smallest possible source x-position is 0.\r\n        if (left < 0) {\r\n            sx = 0;\r\n            dx = (Math.abs(left) / width) * canvasWidth;\r\n        }\r\n\r\n        // The largest possible source width is the original image's width.\r\n        if (sWidth + sx > self._originalImageWidth) {\r\n            sWidth = self._originalImageWidth - sx;\r\n            dWidth =  (sWidth / width) * canvasWidth;\r\n        }\r\n\r\n        //\r\n        // Do not go outside of the original image's bounds along the y-axis.\r\n        //\r\n\r\n        // The smallest possible source y-position is 0.\r\n        if (top < 0) {\r\n            sy = 0;\r\n            dy = (Math.abs(top) / height) * canvasHeight;\r\n        }\r\n\r\n        // The largest possible source height is the original image's height.\r\n        if (sHeight + sy > self._originalImageHeight) {\r\n            sHeight = self._originalImageHeight - sy;\r\n            dHeight = (sHeight / height) * canvasHeight;\r\n        }\r\n\r\n        // console.table({ left, right, top, bottom, canvasWidth, canvasHeight, width, height, startX, startY, circle, sx, sy, dx, dy, sWidth, sHeight, dWidth, dHeight });\r\n\r\n        ctx.drawImage(this.elements.preview, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);\r\n        if (circle) {\r\n            ctx.fillStyle = '#fff';\r\n            ctx.globalCompositeOperation = 'destination-in';\r\n            ctx.beginPath();\r\n            ctx.arc(canvas.width / 2, canvas.height / 2, canvas.width / 2, 0, Math.PI * 2, true);\r\n            ctx.closePath();\r\n            ctx.fill();\r\n        }\r\n        return canvas;\r\n    }\r\n\r\n    function _getHtmlResult(data) {\r\n        var points = data.points,\r\n            div = document.createElement('div'),\r\n            img = document.createElement('img'),\r\n            width = points[2] - points[0],\r\n            height = points[3] - points[1];\r\n\r\n        addClass(div, 'croppie-result');\r\n        div.appendChild(img);\r\n        css(img, {\r\n            left: (-1 * points[0]) + 'px',\r\n            top: (-1 * points[1]) + 'px'\r\n        });\r\n        img.src = data.url;\r\n        css(div, {\r\n            width: width + 'px',\r\n            height: height + 'px'\r\n        });\r\n\r\n        return div;\r\n    }\r\n\r\n    function _getBase64Result(data) {\r\n        return _getCanvas.call(this, data).toDataURL(data.format, data.quality);\r\n    }\r\n\r\n    function _getBlobResult(data) {\r\n        var self = this;\r\n        return new Promise(function (resolve) {\r\n            _getCanvas.call(self, data).toBlob(function (blob) {\r\n                resolve(blob);\r\n            }, data.format, data.quality);\r\n        });\r\n    }\r\n\r\n    function _replaceImage(img) {\r\n        if (this.elements.img.parentNode) {\r\n            Array.prototype.forEach.call(this.elements.img.classList, function(c) { img.classList.add(c); });\r\n            this.elements.img.parentNode.replaceChild(img, this.elements.img);\r\n            this.elements.preview = img; // if the img is attached to the DOM, they're not using the canvas\r\n        }\r\n        this.elements.img = img;\r\n    }\r\n\r\n    function _bind(options, cb) {\r\n        var self = this,\r\n            url,\r\n            points = [],\r\n            zoom = null,\r\n            hasExif = _hasExif.call(self);\r\n\r\n        if (typeof (options) === 'string') {\r\n            url = options;\r\n            options = {};\r\n        }\r\n        else if (Array.isArray(options)) {\r\n            points = options.slice();\r\n        }\r\n        else if (typeof (options) === 'undefined' && self.data.url) { //refreshing\r\n            _updatePropertiesFromImage.call(self);\r\n            _triggerUpdate.call(self);\r\n            return null;\r\n        }\r\n        else {\r\n            url = options.url;\r\n            points = options.points || [];\r\n            zoom = typeof(options.zoom) === 'undefined' ? null : options.zoom;\r\n        }\r\n\r\n        self.data.bound = false;\r\n        self.data.url = url || self.data.url;\r\n        self.data.boundZoom = zoom;\r\n\r\n        return loadImage(url, hasExif).then(function (img) {\r\n            _replaceImage.call(self, img);\r\n            if (!points.length) {\r\n                var natDim = naturalImageDimensions(img);\r\n                var rect = self.elements.viewport.getBoundingClientRect();\r\n                var aspectRatio = rect.width / rect.height;\r\n                var imgAspectRatio = natDim.width / natDim.height;\r\n                var width, height;\r\n\r\n                if (imgAspectRatio > aspectRatio) {\r\n                    height = natDim.height;\r\n                    width = height * aspectRatio;\r\n                }\r\n                else {\r\n                    width = natDim.width;\r\n                    height = natDim.height / aspectRatio;\r\n                }\r\n\r\n                var x0 = (natDim.width - width) / 2;\r\n                var y0 = (natDim.height - height) / 2;\r\n                var x1 = x0 + width;\r\n                var y1 = y0 + height;\r\n                self.data.points = [x0, y0, x1, y1];\r\n            }\r\n            else if (self.options.relative) {\r\n                points = [\r\n                    points[0] * img.naturalWidth / 100,\r\n                    points[1] * img.naturalHeight / 100,\r\n                    points[2] * img.naturalWidth / 100,\r\n                    points[3] * img.naturalHeight / 100\r\n                ];\r\n            }\r\n\r\n            self.data.orientation = options.orientation || 1;\r\n            self.data.points = points.map(function (p) {\r\n                return parseFloat(p);\r\n            });\r\n            if (self.options.useCanvas) {\r\n                _transferImageToCanvas.call(self, self.data.orientation);\r\n            }\r\n            _updatePropertiesFromImage.call(self);\r\n            _triggerUpdate.call(self);\r\n            cb && cb();\r\n        });\r\n    }\r\n\r\n    function fix(v, decimalPoints) {\r\n        return parseFloat(v).toFixed(decimalPoints || 0);\r\n    }\r\n\r\n    function _get() {\r\n        var self = this,\r\n            imgData = self.elements.preview.getBoundingClientRect(),\r\n            vpData = self.elements.viewport.getBoundingClientRect(),\r\n            x1 = vpData.left - imgData.left,\r\n            y1 = vpData.top - imgData.top,\r\n            widthDiff = (vpData.width - self.elements.viewport.offsetWidth) / 2, //border\r\n            heightDiff = (vpData.height - self.elements.viewport.offsetHeight) / 2,\r\n            x2 = x1 + self.elements.viewport.offsetWidth + widthDiff,\r\n            y2 = y1 + self.elements.viewport.offsetHeight + heightDiff,\r\n            scale = self._currentZoom;\r\n\r\n        if (scale === Infinity || isNaN(scale)) {\r\n            scale = 1;\r\n        }\r\n\r\n        var max = self.options.enforceBoundary ? 0 : Number.NEGATIVE_INFINITY;\r\n        x1 = Math.max(max, x1 / scale);\r\n        y1 = Math.max(max, y1 / scale);\r\n        x2 = Math.max(max, x2 / scale);\r\n        y2 = Math.max(max, y2 / scale);\r\n\r\n        return {\r\n            points: [fix(x1), fix(y1), fix(x2), fix(y2)],\r\n            zoom: scale,\r\n            orientation: self.data.orientation\r\n        };\r\n    }\r\n\r\n    var RESULT_DEFAULTS = {\r\n            type: 'canvas',\r\n            format: 'png',\r\n            quality: 1\r\n        },\r\n        RESULT_FORMATS = ['jpeg', 'webp', 'png'];\r\n\r\n    function _result(options) {\r\n        var self = this,\r\n            data = _get.call(self),\r\n            opts = deepExtend(clone(RESULT_DEFAULTS), clone(options)),\r\n            resultType = (typeof (options) === 'string' ? options : (opts.type || 'base64')),\r\n            size = opts.size || 'viewport',\r\n            format = opts.format,\r\n            quality = opts.quality,\r\n            backgroundColor = opts.backgroundColor,\r\n            circle = typeof opts.circle === 'boolean' ? opts.circle : (self.options.viewport.type === 'circle'),\r\n            vpRect = self.elements.viewport.getBoundingClientRect(),\r\n            ratio = vpRect.width / vpRect.height,\r\n            prom;\r\n\r\n        if (size === 'viewport') {\r\n            data.outputWidth = vpRect.width;\r\n            data.outputHeight = vpRect.height;\r\n        } else if (typeof size === 'object') {\r\n            if (size.width && size.height) {\r\n                data.outputWidth = size.width;\r\n                data.outputHeight = size.height;\r\n            } else if (size.width) {\r\n                data.outputWidth = size.width;\r\n                data.outputHeight = size.width / ratio;\r\n            } else if (size.height) {\r\n                data.outputWidth = size.height * ratio;\r\n                data.outputHeight = size.height;\r\n            }\r\n        }\r\n\r\n        if (RESULT_FORMATS.indexOf(format) > -1) {\r\n            data.format = 'image/' + format;\r\n            data.quality = quality;\r\n        }\r\n\r\n        data.circle = circle;\r\n        data.url = self.data.url;\r\n        data.backgroundColor = backgroundColor;\r\n\r\n        prom = new Promise(function (resolve) {\r\n            switch(resultType.toLowerCase())\r\n            {\r\n                case 'rawcanvas':\r\n                    resolve(_getCanvas.call(self, data));\r\n                    break;\r\n                case 'canvas':\r\n                case 'base64':\r\n                    resolve(_getBase64Result.call(self, data));\r\n                    break;\r\n                case 'blob':\r\n                    _getBlobResult.call(self, data).then(resolve);\r\n                    break;\r\n                default:\r\n                    resolve(_getHtmlResult.call(self, data));\r\n                    break;\r\n            }\r\n        });\r\n        return prom;\r\n    }\r\n\r\n    function _refresh() {\r\n        _updatePropertiesFromImage.call(this);\r\n    }\r\n\r\n    function _rotate(deg) {\r\n        if (!this.options.useCanvas || !this.options.enableOrientation) {\r\n            throw 'Croppie: Cannot rotate without enableOrientation && EXIF.js included';\r\n        }\r\n\r\n        var self = this,\r\n            canvas = self.elements.canvas;\r\n\r\n        self.data.orientation = getExifOffset(self.data.orientation, deg);\r\n        drawCanvas(canvas, self.elements.img, self.data.orientation);\r\n        _updateCenterPoint.call(self, true);\r\n        _updateZoomLimits.call(self);\r\n\r\n        // Reverses image dimensions if the degrees of rotation is not divisible by 180.\r\n        if ((Math.abs(deg) / 90) % 2 === 1) {\r\n            var oldHeight = self._originalImageHeight;\r\n            var oldWidth = self._originalImageWidth;\r\n            self._originalImageWidth = oldHeight;\r\n            self._originalImageHeight = oldWidth;\r\n        }\r\n    }\r\n\r\n    function _destroy() {\r\n        var self = this;\r\n        self.element.removeChild(self.elements.boundary);\r\n        removeClass(self.element, 'croppie-container');\r\n        if (self.options.enableZoom) {\r\n            self.element.removeChild(self.elements.zoomerWrap);\r\n        }\r\n        delete self.elements;\r\n    }\r\n\r\n    if (typeof window !== 'undefined' && window.jQuery) {\r\n        var $ = window.jQuery;\r\n        $.fn.croppie = function (opts) {\r\n            var ot = typeof opts;\r\n\r\n            if (ot === 'string') {\r\n                var args = Array.prototype.slice.call(arguments, 1);\r\n                var singleInst = $(this).data('croppie');\r\n\r\n                if (opts === 'get') {\r\n                    return singleInst.get();\r\n                }\r\n                else if (opts === 'result') {\r\n                    return singleInst.result.apply(singleInst, args);\r\n                }\r\n                else if (opts === 'bind') {\r\n                    return singleInst.bind.apply(singleInst, args);\r\n                }\r\n\r\n                return this.each(function () {\r\n                    var i = $(this).data('croppie');\r\n                    if (!i) return;\r\n\r\n                    var method = i[opts];\r\n                    if ($.isFunction(method)) {\r\n                        method.apply(i, args);\r\n                        if (opts === 'destroy') {\r\n                            $(this).removeData('croppie');\r\n                        }\r\n                    }\r\n                    else {\r\n                        throw 'Croppie ' + opts + ' method not found';\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                return this.each(function () {\r\n                    var i = new Croppie(this, opts);\r\n                    i.$ = $;\r\n                    $(this).data('croppie', i);\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n    function Croppie(element, opts) {\r\n        if (element.className.indexOf('croppie-container') > -1) {\r\n            throw new Error(\"Croppie: Can't initialize croppie more than once\");\r\n        }\r\n        this.element = element;\r\n        this.options = deepExtend(clone(Croppie.defaults), opts);\r\n\r\n        if (this.element.tagName.toLowerCase() === 'img') {\r\n            var origImage = this.element;\r\n            addClass(origImage, 'cr-original-image');\r\n            setAttributes(origImage, {'aria-hidden' : 'true', 'alt' : '' });\r\n            var replacementDiv = document.createElement('div');\r\n            this.element.parentNode.appendChild(replacementDiv);\r\n            replacementDiv.appendChild(origImage);\r\n            this.element = replacementDiv;\r\n            this.options.url = this.options.url || origImage.src;\r\n        }\r\n\r\n        _create.call(this);\r\n        if (this.options.url) {\r\n            var bindOpts = {\r\n                url: this.options.url,\r\n                points: this.options.points\r\n            };\r\n            delete this.options['url'];\r\n            delete this.options['points'];\r\n            _bind.call(this, bindOpts);\r\n        }\r\n    }\r\n\r\n    Croppie.defaults = {\r\n        viewport: {\r\n            width: 100,\r\n            height: 100,\r\n            type: 'square'\r\n        },\r\n        boundary: { },\r\n        orientationControls: {\r\n            enabled: true,\r\n            leftClass: '',\r\n            rightClass: ''\r\n        },\r\n        resizeControls: {\r\n            width: true,\r\n            height: true\r\n        },\r\n        customClass: '',\r\n        showZoomer: true,\r\n        enableZoom: true,\r\n        enableResize: false,\r\n        mouseWheelZoom: true,\r\n        enableExif: false,\r\n        enforceBoundary: true,\r\n        enableOrientation: false,\r\n        enableKeyMovement: true,\r\n        update: function () { }\r\n    };\r\n\r\n    Croppie.globals = {\r\n        translate: 'translate3d'\r\n    };\r\n\r\n    deepExtend(Croppie.prototype, {\r\n        bind: function (options, cb) {\r\n            return _bind.call(this, options, cb);\r\n        },\r\n        get: function () {\r\n            var data = _get.call(this);\r\n            var points = data.points;\r\n            if (this.options.relative) {\r\n                points[0] /= this.elements.img.naturalWidth / 100;\r\n                points[1] /= this.elements.img.naturalHeight / 100;\r\n                points[2] /= this.elements.img.naturalWidth / 100;\r\n                points[3] /= this.elements.img.naturalHeight / 100;\r\n            }\r\n            return data;\r\n        },\r\n        result: function (type) {\r\n            return _result.call(this, type);\r\n        },\r\n        refresh: function () {\r\n            return _refresh.call(this);\r\n        },\r\n        setZoom: function (v) {\r\n            _setZoomerVal.call(this, v);\r\n            dispatchChange(this.elements.zoomer);\r\n        },\r\n        rotate: function (deg) {\r\n            _rotate.call(this, deg);\r\n        },\r\n        destroy: function () {\r\n            return _destroy.call(this);\r\n        }\r\n    });\r\n    return Croppie;\r\n}));\r\n", "export default require(\"./node_modules/croppie/croppie.js\");"],
  "mappings": "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",
  "names": ["a", "b", "c", "d", "e", "f", "g", "h", "i", "CustomEvent", "css", "self", "isDragging"]
}
